<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="../public/header.js"></script>
</head>
<body>
<script>
    let mycharts=echarts.init(document.getElementById('main1'));
    function getVirtulData(year) {
        year=year||'2017';
        let data=[];
        let start=+echarts.number.parseDate(year+'-01-01');
        let end=+echarts.number.parseDate((+year+1)+'-01-01');
        let dayTime=1000*60*60*24;
        for (let time=start;time<end;time+=dayTime){
            data.push([
                echarts.format.formatTime('yyyy-MM-dd',time),
                Math.floor(Math.random()*10000)
            ])
        }
        console.log(data);
        return data;
    }
    option={
        title:{
            x:'center',
            y:30,
            text:'2016年某人每天的步数'
        },
        grid: [
            {x: '7%', y: '7%', width: '100%', height: '38%'},
            {x2: '7%', y: '7%', width: '100%', height: '38%'},
            {x: '7%', y2: '7%', width: '100%', height: '38%'},
            {x2: '7%', y2: '7%', width: '100%', height: '38%'}
        ],
        tooltip:{
            show:true,
            formatter:function (params) {
                return params.marker+params.value[0]+"<br>步数："+params.value[1]
            }
        },
        visualMap:{
            min:0,
            max:10000,
            type:'piecewise',
            orient:'horizontal',
            left:'center',
            top:65,
            textStyle:{
                color:'#000'
            }
        },
        calendar:{
            top:120,
            left:30,
            right:30,
            cellSize:['auto',13],
            range:'2016',
            itemStyle:{
                normal:{
                    borderWidth:0.5
                }
            },
            dayLabel:{
                firstDay:1,
                nameMap:'cn',
            },
            monthLabel:{
                nameMap:'cn'
            },
            yearLabel:{
                nameMap:'cn',
                show:true
            }
        },
        series:{
            type:'heatmap',
            coordinateSystem:'calendar',
            data:getVirtulData(2016)
        }
    };
    mycharts.setOption(option);
</script>
</body>
</html>